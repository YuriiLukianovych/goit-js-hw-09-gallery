{"version":3,"sources":["js/inputData.js","js/renderMarkup.js","index.js"],"names":["galleryItems","preview","original","description","createMarkup","arr","markupList","map","el","index","join","ulContainer","document","querySelector","modalW","closeBtn","lightboxImage","overlay","markup","onImageClick","event","preventDefault","target","dataset","source","modalOpen","e","classList","add","url","src","idx","Number","id","window","addEventListener","code","length","modalClose","onKeyPress","onOverlayClick","remove","removeEventListener","currentTarget","innerHTML"],"mappings":";;;AAAO,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,kBAAA,EAAA,MAAMA,EAAe,CACzB,CACGC,QACG,uFACHC,SACG,uFACHC,YAAa,mBAEhB,CACGF,QACG,4EACHC,SACG,4EACHC,YAAa,6BAEhB,CACGF,QACG,wEACHC,SACG,wEACHC,YAAa,qBAEhB,CACGF,QACG,0EACHC,SACG,0EACHC,YAAa,iBAEhB,CACGF,QACG,4EACHC,SACG,4EACHC,YAAa,oBAEhB,CACGF,QACG,4EACHC,SACG,4EACHC,YAAa,yBAEhB,CACGF,QACG,2EACHC,SACG,2EACHC,YAAa,yBAEhB,CACGF,QACG,4EACHC,SACG,4EACHC,YAAa,oBAEhB,CACGF,QACG,6EACHC,SACG,6EACHC,YAAa,yBA9DZ,QAAA,aAAA;;ACoBN,aAlBM,SAASC,EAAaC,GAiBnBC,OAhBYD,EAAIE,IAAI,CAACC,EAAIC,sFAIpBD,EAAGN,4EAGFM,EAAGP,kCACKO,EAAGN,+BACPO,oBACJD,EAAGL,kDAMEO,KAAK,IACzB,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA;;ACwDA,aA5ED,QAAA,oBACA,IAAA,EAAA,QAAA,kBACA,EAAA,QAAA,qBAGA,MAAMC,EAAcC,SAASC,cAAc,eACrCC,EAASF,SAASC,cAAc,gBAChCE,EAAWH,SAASC,cAAc,wCAClCG,EAAgBJ,SAASC,cAAc,oBACvCI,EAAUL,SAASC,cAAc,sBAGjCK,GAAS,EAAalB,EAAAA,cAAAA,EAAb,cASf,SAASmB,EAAaC,GACnBA,EAAMC,iBACDD,EAAME,OAAOC,QAAQC,QAK1BC,EAAUL,GAIb,SAASK,EAAUC,GAChBZ,EAAOa,UAAUC,IAAI,WACfC,MAAAA,EAAMH,EAAEJ,OAAOC,QAAQC,OAC7BR,EAAcc,IAAMD,EAEhBE,IAAAA,EAAMC,OAAON,EAAEJ,OAAOC,QAAQU,IAElCC,OAAOC,iBAAiB,UAAWT,IACjB,eAAXA,EAAEU,MAAyBL,EAAM/B,EAAaqC,aAAAA,OAAS,IACxDN,GAAO,GAEK,cAAXL,EAAEU,MAAwBL,GAAO,IAClCA,GAAO,GAEVf,EAAcc,IAAM9B,EAAa+B,aAAAA,GAAK7B,WAGzCa,EAASoB,iBAAiB,QAASG,GACnCJ,OAAOC,iBAAiB,UAAWI,GACnCtB,EAAQkB,iBAAiB,QAASK,GAIrC,SAASF,IACNxB,EAAOa,UAAUc,OAAO,WACxBzB,EAAcc,IAAM,GACpBI,OAAOQ,oBAAoB,UAAWH,GACtCtB,EAAQyB,oBAAoB,QAASF,GAKxC,SAASD,EAAWb,GACF,WAAXA,EAAEU,MACHE,IAKN,SAASE,EAAed,GACjBA,EAAEiB,gBAAkBjB,EAAEJ,QAG1BgB,IA9DH3B,EAAYiC,UAAY1B,EAKxBP,EAAYwB,iBAAiB,QAAShB","file":"src.258cc097.js","sourceRoot":"../src","sourcesContent":["export const galleryItems = [\n   {\n      preview:\n         'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\n      original:\n         'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\n      description: 'Hokkaido Flower',\n   },\n   {\n      preview:\n         'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n      original:\n         'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n      description: 'Container Haulage Freight',\n   },\n   {\n      preview:\n         'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n      original:\n         'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n      description: 'Aerial Beach View',\n   },\n   {\n      preview:\n         'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n      original:\n         'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n      description: 'Flower Blooms',\n   },\n   {\n      preview:\n         'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n      original:\n         'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n      description: 'Alpine Mountains',\n   },\n   {\n      preview:\n         'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n      original:\n         'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n      description: 'Mountain Lake Sailing',\n   },\n   {\n      preview:\n         'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n      original:\n         'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n      description: 'Alpine Spring Meadows',\n   },\n   {\n      preview:\n         'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n      original:\n         'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n      description: 'Nature Landscape',\n   },\n   {\n      preview:\n         'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n      original:\n         'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n      description: 'Lighthouse Coast Sea',\n   },\n];\n","// функция-рендер разметки по массиву данных galleryItems и предоставленному шаблону\n// возвращает валидный для HTML-парсинга текст-разметку\nexport function createMarkup(arr) {\n   const markupList = arr.map((el, index) => {\n      return `\n    <li class=\"gallery__item\">\n      <a class=\"gallery__link\"\n        href=${el.original}>\n        <img\n          class=\"gallery__image\"\n          src=${el.preview}\n          data-source=${el.original}\n          data-id=${index}\n          alt=${el.description}\n        />\n      </a>\n    </li>`;\n   });\n\n   return markupList.join('');\n}\n","import './sass/main.scss';\nimport { galleryItems } from './js/inputData'; // массив входных данных\nimport { createMarkup } from './js/renderMarkup'; // функция-рендер разметки из входных данных по заданомк шаблону\n\n// получить ссылки на нужные DOM-узлы\nconst ulContainer = document.querySelector('.js-gallery');\nconst modalW = document.querySelector('.js-lightbox');\nconst closeBtn = document.querySelector('button[data-action=\"close-lightbox\"]');\nconst lightboxImage = document.querySelector('.lightbox__image');\nconst overlay = document.querySelector('.lightbox__overlay');\n\n// создание и добавление разметки в список галереи\nconst markup = createMarkup(galleryItems);\nulContainer.innerHTML = markup;\n\n//============================== ЛОВИМ И ОБРАБАТЫВАЕМ СОБЫТИЯ =========================\n\n// добавляет слушатель клика по элементу галереи\nulContainer.addEventListener('click', onImageClick);\n\n// обработчик клика по элементу галереи\nfunction onImageClick(event) {\n   event.preventDefault();\n   if (!event.target.dataset.source) {\n      return;\n   }\n\n   // открытие модалки при клике по элементу галереи\n   modalOpen(event);\n}\n\n// реализация функции открытия модалки при клике по элементу галереи\nfunction modalOpen(e) {\n   modalW.classList.add('is-open');\n   const url = e.target.dataset.source;\n   lightboxImage.src = url;\n\n   let idx = Number(e.target.dataset.id);\n\n   window.addEventListener('keydown', e => {\n      if (e.code === 'ArrowRight' && idx < galleryItems.length - 1) {\n         idx += 1;\n      }\n      if (e.code === 'ArrowLeft' && idx >= 1) {\n         idx -= 1;\n      }\n      lightboxImage.src = galleryItems[idx].original;\n   });\n\n   closeBtn.addEventListener('click', modalClose);\n   window.addEventListener('keydown', onKeyPress);\n   overlay.addEventListener('click', onOverlayClick);\n}\n\n// реализация закрытия модального окна\nfunction modalClose() {\n   modalW.classList.remove('is-open');\n   lightboxImage.src = '';\n   window.removeEventListener('keydown', onKeyPress);\n   overlay.removeEventListener('click', onOverlayClick);\n}\n\n// обработчик для реализации закрытия модалки при нажатии клавиши ESC\n// и пролистывания изображений галереи в открытом модальном окне клавишами \"влево\" и \"вправо\".\nfunction onKeyPress(e) {\n   if (e.code === 'Escape') {\n      modalClose();\n   }\n}\n\n// обработчик для реализации закрытия модалки при клике на overlay\nfunction onOverlayClick(e) {\n   if (e.currentTarget !== e.target) {\n      return;\n   }\n   modalClose();\n}\n"]}