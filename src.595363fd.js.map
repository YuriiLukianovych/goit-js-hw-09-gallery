{"version":3,"sources":["index.js"],"names":["galleryItems","preview","original","description","ulContainer","document","querySelector","modalW","closeBtn","lightboxImage","overlay","markup","createMarkup","arr","markupList","map","el","index","join","onImageClick","event","preventDefault","target","dataset","source","modalOpen","e","classList","add","url","src","idx","Number","id","window","addEventListener","code","length","modalClose","onKeyPress","onOverlayClick","remove","removeEventListener","currentTarget","innerHTML"],"mappings":";;;AAkKC,aAlKD,QAAA,oBAEA,MAAMA,EAAe,CAClB,CACGC,QACG,uFACHC,SACG,uFACHC,YAAa,mBAEhB,CACGF,QACG,4EACHC,SACG,4EACHC,YAAa,6BAEhB,CACGF,QACG,wEACHC,SACG,wEACHC,YAAa,qBAEhB,CACGF,QACG,0EACHC,SACG,0EACHC,YAAa,iBAEhB,CACGF,QACG,4EACHC,SACG,4EACHC,YAAa,oBAEhB,CACGF,QACG,4EACHC,SACG,4EACHC,YAAa,yBAEhB,CACGF,QACG,2EACHC,SACG,2EACHC,YAAa,yBAEhB,CACGF,QACG,4EACHC,SACG,4EACHC,YAAa,oBAEhB,CACGF,QACG,6EACHC,SACG,6EACHC,YAAa,yBAKbC,EAAcC,SAASC,cAAc,eACrCC,EAASF,SAASC,cAAc,gBAChCE,EAAWH,SAASC,cAAc,wCAClCG,EAAgBJ,SAASC,cAAc,oBACvCI,EAAUL,SAASC,cAAc,sBAGjCK,EAASC,EAAaZ,GAK5B,SAASY,EAAaC,GAiBZC,OAhBYD,EAAIE,IAAI,CAACC,EAAIC,sFAIpBD,EAAGd,4EAGFc,EAAGf,kCACKe,EAAGd,+BACPe,oBACJD,EAAGb,kDAMEe,KAAK,IAS1B,SAASC,EAAaC,GACnBA,EAAMC,iBACDD,EAAME,OAAOC,QAAQC,QAK1BC,EAAUL,GAIb,SAASK,EAAUC,GAChBnB,EAAOoB,UAAUC,IAAI,WACfC,MAAAA,EAAMH,EAAEJ,OAAOC,QAAQC,OAC7Bf,EAAcqB,IAAMD,EAEhBE,IAAAA,EAAMC,OAAON,EAAEJ,OAAOC,QAAQU,IAElCC,OAAOC,iBAAiB,UAAWT,IACjB,eAAXA,EAAEU,MAAyBL,EAAM/B,EAAaqC,OAAS,IACxDN,GAAO,GAEK,cAAXL,EAAEU,MAAwBL,GAAO,IAClCA,GAAO,GAEVtB,EAAcqB,IAAM9B,EAAa+B,GAAK7B,WAGzCM,EAAS2B,iBAAiB,QAASG,GACnCJ,OAAOC,iBAAiB,UAAWI,GACnC7B,EAAQyB,iBAAiB,QAASK,GAIrC,SAASF,IACN/B,EAAOoB,UAAUc,OAAO,WACxBhC,EAAcqB,IAAM,GACpBI,OAAOQ,oBAAoB,UAAWH,GACtC7B,EAAQgC,oBAAoB,QAASF,GAKxC,SAASD,EAAWb,GACF,WAAXA,EAAEU,MACHE,IAKN,SAASE,EAAed,GACjBA,EAAEiB,gBAAkBjB,EAAEJ,QAG1BgB,IApFHlC,EAAYwC,UAAYjC,EA2BxBP,EAAY+B,iBAAiB,QAAShB","file":"src.595363fd.js","sourceRoot":"../src","sourcesContent":["import './sass/main.scss';\n\nconst galleryItems = [\n   {\n      preview:\n         'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\n      original:\n         'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\n      description: 'Hokkaido Flower',\n   },\n   {\n      preview:\n         'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n      original:\n         'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n      description: 'Container Haulage Freight',\n   },\n   {\n      preview:\n         'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n      original:\n         'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n      description: 'Aerial Beach View',\n   },\n   {\n      preview:\n         'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n      original:\n         'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n      description: 'Flower Blooms',\n   },\n   {\n      preview:\n         'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n      original:\n         'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n      description: 'Alpine Mountains',\n   },\n   {\n      preview:\n         'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n      original:\n         'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n      description: 'Mountain Lake Sailing',\n   },\n   {\n      preview:\n         'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n      original:\n         'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n      description: 'Alpine Spring Meadows',\n   },\n   {\n      preview:\n         'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n      original:\n         'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n      description: 'Nature Landscape',\n   },\n   {\n      preview:\n         'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n      original:\n         'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n      description: 'Lighthouse Coast Sea',\n   },\n];\n\n// получить ссылки на нужные DOM-узлы\nconst ulContainer = document.querySelector('.js-gallery');\nconst modalW = document.querySelector('.js-lightbox');\nconst closeBtn = document.querySelector('button[data-action=\"close-lightbox\"]');\nconst lightboxImage = document.querySelector('.lightbox__image');\nconst overlay = document.querySelector('.lightbox__overlay');\n\n// создание и добавление разметки в список галереи\nconst markup = createMarkup(galleryItems);\nulContainer.innerHTML = markup;\n\n// функция-рендер разметки по массиву данных galleryItems и предоставленному шаблону\n// возвращает валидный для HTML-парсинга текст-разметку\nfunction createMarkup(arr) {\n   const markupList = arr.map((el, index) => {\n      return `\n    <li class=\"gallery__item\">\n      <a class=\"gallery__link\"\n        href=${el.original}>\n        <img\n          class=\"gallery__image\"\n          src=${el.preview}\n          data-source=${el.original}\n          data-id=${index}\n          alt=${el.description}\n        />\n      </a>\n    </li>`;\n   });\n\n   return markupList.join('');\n}\n\n//============================== ЛОВИМ И ОБРАБАТЫВАЕМ СЩБЫТИЯ =========================\n\n// добавляет слушатель клика по элементу галереи\nulContainer.addEventListener('click', onImageClick);\n\n// обработчик клика по элементу галереи\nfunction onImageClick(event) {\n   event.preventDefault();\n   if (!event.target.dataset.source) {\n      return;\n   }\n\n   // открытие модалки при клике по элементу галереи\n   modalOpen(event);\n}\n\n// реализация функции открытия модалки при клике по элементу галереи\nfunction modalOpen(e) {\n   modalW.classList.add('is-open');\n   const url = e.target.dataset.source;\n   lightboxImage.src = url;\n\n   let idx = Number(e.target.dataset.id);\n\n   window.addEventListener('keydown', e => {\n      if (e.code === 'ArrowRight' && idx < galleryItems.length - 1) {\n         idx += 1;\n      }\n      if (e.code === 'ArrowLeft' && idx >= 1) {\n         idx -= 1;\n      }\n      lightboxImage.src = galleryItems[idx].original;\n   });\n\n   closeBtn.addEventListener('click', modalClose);\n   window.addEventListener('keydown', onKeyPress);\n   overlay.addEventListener('click', onOverlayClick);\n}\n\n// реализация закрытия модального окна\nfunction modalClose() {\n   modalW.classList.remove('is-open');\n   lightboxImage.src = '';\n   window.removeEventListener('keydown', onKeyPress);\n   overlay.removeEventListener('click', onOverlayClick);\n}\n\n// обработчик для реализации закрытия модалки при нажатии клавиши ESC\n// и пролистывания изображений галереи в открытом модальном окне клавишами \"влево\" и \"вправо\".\nfunction onKeyPress(e) {\n   if (e.code === 'Escape') {\n      modalClose();\n   }\n}\n\n// обработчик для реализации закрытия модалки при клике на overlay\nfunction onOverlayClick(e) {\n   if (e.currentTarget !== e.target) {\n      return;\n   }\n   modalClose();\n}\n"]}